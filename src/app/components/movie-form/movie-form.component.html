<div class="container">
  <h2>{{ movie ? "Edit Movie" : "Add Movie" }}</h2>
  <div class="row">
    <div class="col-lg-6">
      <form [formGroup]="movieForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input
            type="text"
            id="name"
            class="form-control"
            formControlName="name"
          />
        </div>
        <div class="mb-3">
          <label for="cover_image" class="form-label">Cover Image</label>
          <input
            type="file"
            id="cover_image"
            class="form-control"
            (change)="onFileSelected($event)"
          />
        </div>
        <div class="mb-3">
          <label for="classification" class="form-label">Classification</label>
          <select id="classification" class="form-select" formControlName="classification">
            <option *ngFor="let classification of classifications" [value]="classification">
              {{ classification }}
            </option>
          </select>
        </div>
        <div class="mb-3">
          <label for="genre" class="form-label">Genre</label>
          <select id="genre" class="form-select" formControlName="genre">
            <option *ngFor="let genre of genres" [value]="genre">
              {{ genre }}
            </option>
          </select>
        </div>
        <div class="mb-3">
          <label for="release_date" class="form-label">Release Date</label>
          <input
            type="date"
            id="release_date"
            class="form-control"
            formControlName="release_date"
          />
        </div>
        <div class="mb-3">
          <label for="synopsis" class="form-label">Synopsis</label>
          <textarea
            id="synopsis"
            class="form-control"
            formControlName="synopsis"
          ></textarea>
        </div>
        <a class="btn btn-secondary me-1" href="/manage">Cancel</a>
        <button type="submit" class="btn btn-primary">
          {{ movie ? "Update" : "Add" }} Movie
        </button>
      </form>
    </div>
    <div class="col-lg-6">
      <div *ngIf="imagePreviewUrl" class="mt-3">
        <h5>Image Preview:</h5>
        <img [src]="imagePreviewUrl" alt="Image Preview" class="img-fluid mb-3" />
        <button type="button" class="btn btn-danger" (click)="removeImage()">Remove Image</button>
      </div>
    </div>
  </div>
</div>
